---
import '../styles/globals.css';
import MainNav from '../components/MainNav';
import Footer from '../components/Footer';
import CookieConsent from '../components/CookieConsent';
import { ViewTransitions } from 'astro:transitions';
import Analytics from '@vercel/analytics/astro';

interface Props {
	title?: string;
	description?: string;
}

const { 
	title = "Virsa Labs - Digital Marketing & SEO Experts",
	description = "Boost your online presence with professional services. We help businesses grow through innovative digital marketing and SEO solutions. Available 24/7."
} = Astro.props;

// Get the full URL including protocol, hostname, and port
const baseURL = Astro.url.origin;
const canonicalURL = import.meta.env.PROD ? "https://www.virsalabs.io" : baseURL;
---

<!doctype html>
<html lang="en" class="dark">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<Analytics />
		
	 <!-- Google tag (gtag.js) -->
	 <script async src="https://www.googletagmanager.com/gtag/js?id=G-37LYM4JSE9"></script>
	 <script is:inline>
		 window.dataLayer = window.dataLayer || [];
		 function gtag(){dataLayer.push(arguments);}
		 gtag('js', new Date());
		 gtag('config', 'G-37LYM4JSE9');
	 </script>



		<!-- Favicon -->
		<link rel="shortcut icon" href="/favicon.ico">
		<link rel="icon" type="image/x-icon" href="/favicon.ico">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="manifest" href="/site.webmanifest">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#000027">
		<meta name="msapplication-TileColor" content="#000027">
		<meta name="theme-color" content="#000027">

		<!-- Primary Meta Tags -->
		<title>{title}</title>
		<meta name="title" content={title} />
		<meta name="description" content={description} />
		<link rel="canonical" href={canonicalURL} />

		<!-- Search Engine and Social Media Preview -->
		<meta property="og:type" content="website" />
		<meta property="og:site_name" content="Virsa Labs" />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:url" content={canonicalURL} />
		<meta property="og:image" content={`${canonicalURL}/search-engine-icon.png`} />
		<meta property="og:image:width" content="512" />
		<meta property="og:image:height" content="512" />
		<meta property="og:image:alt" content="Virsa Labs Logo" />

		<!-- Apple-specific with absolute URLs -->
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-title" content="Virsa Labs" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
		<link rel="apple-touch-icon" href={`${baseURL}/favicon-bg.png`} />
		<link rel="apple-touch-icon-precomposed" sizes="1200x1200" href={`${baseURL}/favicon-bg.png`} />

		<!-- Twitter Card -->
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:site" content="@virsalabs" />
		<meta name="twitter:title" content={title} />
		<meta name="twitter:description" content={description} />
		<meta name="twitter:image" content={`${canonicalURL}/search-engine-icon.png`} />

		<!-- Business Information -->
		<meta name="author" content="Virsa Labs" />
		<meta name="contact" content="team@virsalabs.io" />

		<!-- Additional SEO Tags -->
		<meta name="keywords" content="Digital Marketing, SEO Services, Local SEO, Lead Generation, PPC Management, Website SEO, Social Media Management, Business Automation, Bethlehem PA, Digital Marketing Agency" />
		<meta name="robots" content="index, follow" />
		<meta name="googlebot" content="index, follow" />
		<meta name="theme-color" content="#000027" />

		<!-- Schema.org Markup -->
		<script type="application/ld+json">
			{
				"@context": "https://schema.org",
				"@type": "LocalBusiness",
				"name": "Virsa Labs",
				"description": "Boost your online presence with professional services. Digital Marketing & SEO Experts.",
				"image": "${canonicalURL}/og-image.jpg",
				"@id": "${canonicalURL}",
				"url": "${canonicalURL}",
				"telephone": "(610) 810-3190",
				"email": "team@virsalabs.io",
				"address": {
					"@type": "PostalAddress",
					"streetAddress": "3005 Brodhead Rd #23",
					"addressLocality": "Bethlehem",
					"addressRegion": "PA",
					"postalCode": "18020",
					"addressCountry": "US"
				},
				"geo": {
					"@type": "GeoCoordinates",
					"latitude": 40.681520,
					"longitude": -75.343249
				},
				"openingHoursSpecification": {
					"@type": "OpeningHoursSpecification",
					"dayOfWeek": [
						"Monday",
						"Tuesday",
						"Wednesday",
						"Thursday",
						"Friday",
						"Saturday",
						"Sunday"
					],
					"opens": "00:00",
					"closes": "23:59"
				},
				"sameAs": [
					"https://www.facebook.com/people/Virsa-Labs/61572305030494/",
					"https://x.com/virsalabs",
					"https://www.linkedin.com/company/virsa-labs",
					"https://www.instagram.com/virsalabs/",
					"https://www.pinterest.com/virsalabs/",
					"https://www.tiktok.com/@virsalabs"
				]
			}
		</script>
		
		<ViewTransitions />
	</head>
	<body class="min-h-screen bg-background font-sans antialiased">
		<MainNav client:load />
		<slot />
		<Footer client:load />
		<CookieConsent client:load />
	</body>
</html>

<style is:global>
:root {
	--font-sans: 'Plus Jakarta Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
	--font-heading: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
	
	--background: 0 0% 100%;
	--foreground: 0 0% 3.9%;
	--card: 0 0% 100%;
	--card-foreground: 0 0% 3.9%;
	--popover: 0 0% 100%;
	--popover-foreground: 0 0% 3.9%;
	--primary: 0 0% 9%;
	--primary-foreground: 0 0% 98%;
	--secondary: 0 0% 96.1%;
	--secondary-foreground: 0 0% 9%;
	--muted: 0 0% 96.1%;
	--muted-foreground: 0 0% 45.1%;
	--accent: 0 0% 96.1%;
	--accent-foreground: 0 0% 9%;
	--destructive: 0 84.2% 60.2%;
	--destructive-foreground: 0 0% 98%;
	--border: 0 0% 89.8%;
	--input: 0 0% 89.8%;
	--ring: 0 0% 3.9%;
	--radius: 0.75rem;
}

.dark {
	--background: 240, 96%, 8%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 24 100% 50%;
    --primary-foreground: 0 0% 100%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 224.3 76.3% 48%;
}
</style>
